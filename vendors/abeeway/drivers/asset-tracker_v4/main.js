var driver;(()=>{var e={44:(e,t,n)=>{let r=n(962),i=n(522),s=n(592),o=n(271),a=n(977),S=n(457),R=n(94),c=n(851),E=n(788);const T=e=>(Object.keys(e).forEach((t=>e[t]&&"object"==typeof e[t]&&T(e[t])||!e[t]&&(null===e[t]||void 0===e[t])&&delete e[t])),e);e.exports={decodeUplink:function(e){let t={data:{},errors:[],warnings:[]};try{var n=new r.AbeewayUplinkPayload,i=e.bytes;n.header=s.determineHeader(i);var c=!!(i[0]>>7&1);switch(c&&(n.extendedHeader=o.determineExtendedHeader(i)),n.payload=R.convertBytesToString(i),n.header.type){case r.messageType.NOTIFICATION:n.notification=a.determineNotification(i);break;case r.messageType.POSITION:n.position=S.determinePosition(i,c);break;case r.messageType.QUERY:n.query=determineQuery(i);break;case r.messageType.RESPONSE:n.response=determineResponse(i)}n=T(n),t.data=n}catch(e){return t.errors.push(e.message),delete t.data,t}return t},decodeDownlink:function(e){let t={data:{},errors:[],warnings:[]};try{var n=e.bytes,r=new i.determineDownlinkHeader(n);switch(r.payload=R.convertBytesToString(n),r.type){case i.MessageType.COMMAND:case i.MessageType.REQUEST:case i.MessageType.ANSWER:}}catch(e){return t.errors.push(e.message),delete t.data,t}return t},encodeDownlink:function(e){let t={errors:[],warnings:[]};try{if(null==e)throw new Error("No data to encode");let r=e;null!=e.data&&(r=e.data);var n=[];if(null==r.type)throw new Error("No downlink message type");switch(r.type){case i.MessageType.COMMAND:n=c.encodeCommand(r);break;case i.MessageType.REQUEST:n=E.encodeRequest(r);case i.MessageType.ANSWER:}t.bytes=n,t.fPort=2}catch(e){return t.errors.push(e.message),delete t.bytes,delete t.fPort,t}return t}}},522:e=>{const t=Object.freeze({COMMAND:"COMMAND",REQUEST:"REQUEST",ANSWER:"ANSWER"});function n(e,t,n,r,i,s){this.type=e,this.ackToken=t,this.appState=n,this.command=r,this.request=i,this.payload=s}e.exports={AbeewayDownlinkPayload:n,MessageType:t,determineDownlinkHeader:function(e){if(e.length<1)throw new Error("The payload is not valid to determine header");var r=7&e[0];return new n(function(e){switch(e[0]>>3&7){case 1:return t.COMMAND;case 2:return t.REQUEST;case 3:return t.ANSWER}}(e),r,e[0]>>6&3)}}},851:e=>{const t=Object.freeze({CLEAR_AND_RESET:"CLEAR_AND_RESET",RESET:"RESET",START_SOS:"START_SOS",STOP_SOS:"STOP_SOS",SYS_STATUS_REQ:"SYS_STATUS_REQ",POSITION_ON_DEMAND:"POSITION_ON_DEMAND"});e.exports={Command:t,determineCommand:function(e){},encodeCommand:function(e){}}},788:e=>{const t=Object.freeze({GENERIC_CONF_SET:"GENERIC_CONF_SET",PARAM_CLASS_CONF_SET:"PARAM_CLASS_CONF_SET",GENERIC_CONF_GET:"GENERIC_CONF_GET",PARAM_CLASS_CONF_GET:"PARAM_CLASS_CONF_GET",BLE_STATUS:"BLE_STATUS",GET_GPS_ALMANAC_ENTRY:"GET_GPS_ALMANAC_ENTRY",GET_BEIDOU_ALMANAC_ENTRY:"GET_BEIDOU_ALMANAC_ENTRY",SET_GPS_ALMANAC_ENTRY:"SET_GPS_ALMANAC_ENTRY",SET_BEIDOU_ALMANAC_ENTRY:"SET_BEIDOU_ALMANAC_ENTRY"});e.exports={RequestType:t,encodeRequest:function(e){}}},962:e=>{const t=Object.freeze({NOTIFICATION:"NOTIFICATION",POSITION:"POSITION",QUERY:"QUERY",RESPONSE:"RESPONSE",UNKNOWN:"UNKNOWN"});e.exports={AbeewayUplinkPayload:function(e,t,n,r,i,s,o){this.header=e,this.extendedHeader=t,this.notification=n,this.position=r,this.query=i,this.response=s,this.payload=o},messageType:t}},592:(e,t,n)=>{let r=n(962);const i=Object.freeze({CHARGING:"CHARGING",OPERATING:"OPERATING",UNKNOWN:"UNKNOWN"});function s(e,t,n,r,i,s){this.sos=e,this.type=t,this.ackToken=n,this.appState=r,this.batteryLevel=i,this.timestamp=s}e.exports={Header:s,determineHeader:function(e){if(e.length<3)throw new Error("The payload is not valid to determine header");var t=!!(e[0]>>6&1),n=7&e[0],o=function(e){if(e.length<4)throw new Error("The payload is not valid to determine Message Type");switch(e[0]>>3&7){case 1:return r.messageType.NOTIFICATION;case 2:return r.messageType.POSITION;case 3:return r.messageType.QUERY;case 4:return r.messageType.RESPONSE;default:return r.messageType.UNKNOWN}}(e),a=e[1]>>7&1,S=function(e){if(e.length<4)throw new Error("The payload is not valid to determine Battery Level");var t=127&e[1];return 0==t?i.CHARGING:127==t?i.UNKNOWN:t}(e);return new s(t,o,n,a,S,e[2]<<8+e[3])}}},271:e=>{function t(e,t,n){this.group=e,this.last=t,this.frameNumber=n}e.exports={ExtendedHeader:t,determineExtendedHeader:function(e){if(e.length<5)throw new Error("The payload is not valid to determine multi frame header");return new t(e[4]>>5&7,e[4]>>4&1,7&e[4])}}},977:(e,t,n)=>{let r=n(187);const i=Object.freeze({SYSTEM:"SYSTEM",SOS:"SOS",TEMPERATURE:"TEMPERATURE",ACCELEROMETER:"ACCELEROMETER",NETWORK:"NETWORK",GEOZONING:"GEOZONING"}),s=Object.freeze({STATUS:"STATUS",LOW_BATTERY:"LOW_BATTERY",BLE_CONNECTED_SEC:"BLE_CONNECTED_SEC",BLE_DISCONNECTED:"BLE_DISCONNECTED"});function o(e,t,n,r,i,s,o,a){this.notificationClass=e,this.notificationType=t,this.system=n,this.sos=r,this.temperature=i,this.accelerometer=s,this.network=o,this.geofencing=a}Object.freeze({SOS_ON:"SOS_ON",SOS_OFF:"SOS_ON"}),Object.freeze({TEMP_HIGH:"TEMP_HIGH",TEMP_LOW:"TEMP_LOW",TEMP_NORMAL:"TEMP_NORMAL"}),Object.freeze({MOTION_START:"MOTION_START",MOTION_END:"MOTION_END",SHOCK:"SHOCK"}),Object.freeze({MAIN_UP:"MAIN_UP",BACKUP_UP:"BACKUP_UP"}),Object.freeze({ENTRY:"ENTRY",EXIT:"EXIT",IN_HAZARD:"IN_HAZARD",OUT_HAZARD:"OUT_HAZARD",MEETING_POINT:"MEETING_POINT"}),e.exports={Notification:o,determineNotification:function(e){if(e.length<5)throw new Error("The payload is not valid to determine notification message");let t=new o,n=e[4]>>4&15,a=15&e[4];switch(n){case 0:switch(t.notificationClass=i.SYSTEM,a){case 0:t.notificationType=s.STATUS,t.system=new r.System(r.determineStatus(e),null);break;case 1:t.notificationType=s.LOW_BATTERY;break;case 2:t.notificationType=s.BLE_CONNECTED_SEC;break;case 3:t.notificationType=s.BLE_DISCONNECTED;break;default:throw new Error("System Notification Type Unknown")}break;case 1:case 2:case 3:case 4:case 5:break;default:throw new Error("Notification Class Unknown")}return t}}},187:(e,t,n)=>{let r=n(94);const i=Object.freeze({AOS_ERROR_NONE:"AOS_ERROR_NONE",AOS_ERROR_HW_NMI:"AOS_ERROR_HW_NMI",AOS_ERROR_HW_FAULT:"AOS_ERROR_HW_FAULT",AOS_ERROR_HW_MPU:"AOS_ERROR_HW_MPU",AOS_ERROR_HW_BUS:"AOS_ERROR_HW_BUS",AOS_ERROR_HW_USAGE:"AOS_ERROR_HW_USAGE",AOS_ERROR_HW_IRQ:"AOS_ERROR_HW_IRQ",AOS_ERROR_HW_WDOG:"AOS_ERROR_HW_WDOG",AOS_ERROR_HW_BOR:"AOS_ERROR_HW_BOR",AOS_ERROR_SW_ST_HAL_ERROR:"AOS_ERROR_SW_ST_HAL_ERROR",AOS_ERROR_SW_FREERTOS_ASSERT:"AOS_ERROR_SW_FREERTOS_ASSERT",AOS_ERROR_SW_FREERTOS_TASK_OVF:"AOS_ERROR_SW_FREERTOS_TASK_OVF",AOS_ERROR_SW_RTC_FAIL:"AOS_ERROR_SW_RTC_FAIL",AOS_ERROR_SW_LORA_FAIL:"AOS_ERROR_SW_LORA_FAIL",AOS_ERROR_SW_DEBUG:"AOS_ERROR_SW_DEBUG",AOS_ERROR_SW_APP_START:"AOS_ERROR_SW_APP_START"});function s(e,t,n,r,i,s,o,a,S,R,c,E,T,_,O,A,l,u,h,N,d,g){this.AT3Version=e,this.configVersion=t,this.LRHWVersion=n,this.LRGNSSVersion=r,this.consumption=i,this.batteryVoltage=s,this.currentTemperature=o,this.maxTemperature=a,this.minTemperature=S,this.resetCause=R,this.LR1110GpsAlmanacDate=c,this.LR1110GpsOutdated=E,this.LR1110GpsGood=T,this.LR1110BeidouAlmanacDate=_,this.LR1110BeidouOutdated=O,this.LR1110BeidouGood=A,this.MT3333GpsAlmanacDate=l,this.MT3333GpsOutdated=u,this.MT3333GpsGood=h,this.MT3333BeidouAlmanacDate=N,this.MT3333BeidouOutdated=d,this.MT3333BeidouGood=g}e.exports={System:function(e,t){this.status=e,this.lowBattery=t},determineStatus:function(e){if(e.length<40)throw new Error("The payload is not valid to determine status message");return new s(e[5].toString()+"."+e[6].toString()+"."+e[7].toString(),e[8].toString()+"."+e[9].toString()+"."+e[10].toString()+"."+e[11].toString(),e[12].toString()+"."+e[13].toString()+"."+e[14].toString(),e[15],(e[16]<<8)+e[17],(e[18]<<8)+e[19],r.convertNegativeInt(e[20],1),r.convertNegativeInt(e[21],1),r.convertNegativeInt(e[22],1),function(e){switch(e){case 0:return i.AOS_ERROR_NONE;case 1:return i.AOS_ERROR_HW_NMI;case 2:return i.AOS_ERROR_HW_FAULT;case 3:return i.AOS_ERROR_HW_MPU;case 4:return i.AOS_ERROR_HW_BUS;case 5:return i.AOS_ERROR_HW_USAGE;case 6:return i.AOS_ERROR_HW_IRQ;case 7:return i.AOS_ERROR_HW_WDOG;case 8:return i.AOS_ERROR_HW_BOR;case 9:return i.AOS_ERROR_SW_ST_HAL_ERROR;case 10:return i.AOS_ERROR_SW_FREERTOS_ASSERT;case 11:return i.AOS_ERROR_SW_FREERTOS_TASK_OVF;case 12:return i.AOS_ERROR_SW_RTC_FAIL;case 13:return i.AOS_ERROR_SW_LORA_FAIL;case 14:return i.AOS_ERROR_SW_DEBUG;case 15:return i.AOS_ERROR_SW_APP_START;default:throw new Error("Unknown Reset Cause")}}(e[23]),(e[24]<<8)+e[25],e[26],e[27],(e[28]<<8)+e[29],e[30],e[31],(e[32]<<8)+e[33],e[34],e[35],(e[36]<<8)+e[37],e[38],e[39])}}},320:e=>{e.exports={BeaconInfo:function(e,t){this.id=e,this.rssi=t}}},491:(e,t,n)=>{let r=n(94),i=n(142);function s(e,t,n,r,i,s,o){this.latitude=e,this.longitude=t,this.altitude=n,this.COG=r,this.SOG=i,this.EHPE=s,this.quality=o}e.exports={MT3333GnssFix:s,determineMT3333GnssFix:function(e){let t=new s;return t.latitude=r.twoComplement(parseInt(r.convertBytesToString(e.slice(0,4)),16))/Math.pow(10,7),t.longitude=r.twoComplement(parseInt(r.convertBytesToString(e.slice(4,8)),16))/Math.pow(10,7),t.altitude=function(e){if(e.length<10)throw new Error("The payload is not valid to determine GPS altitude");return(e[8]<<8)+e[9]}(e),t.COG=function(e){if(e.length<12)throw new Error("The payload is not valid to determine GPS course over ground");return(e[10]<<8)+e[11]}(e),t.SOG=function(e){if(e.length<14)throw new Error("The payload is not valid to determine GPS speed over ground");return(e[12]<<8)+e[13]}(e),console.log(t.SOG),t.EHPE=function(e){if(e.length<15)throw new Error("The payload is not valid to determine horizontal accuracy");var t=e[14];if(t>250)switch(t){case 251:t="(250,500]";break;case 252:t="(500,1000]";break;case 253:t="(1000,2000]";break;case 254:t="(2000,4000]";break;case 255:t=">4000"}return t}(e),t.quality=function(e){let t=e[15]>>5&7,n=new i.QualityInfo;switch(t){case 0:n.fixQuality=i.fixQuality.INVALID;break;case 1:n.fixQuality=i.fixQuality.VALID;break;case 2:n.fixQuality=i.fixQuality.FIX_2D;break;case 3:n.fixQuality=i.fixQuality.FIX_3D}return n.numberSatellitesUsed=15&e[15],n}(e),console.log(t.longitude,t.altitude),t}}},142:e=>{const t=Object.freeze({INVALID:"INVALID",VALID:"VALID",FIX_2D:"FIX_2D",FIX_3D:"FIX_3D"});e.exports={QualityInfo:function(e,t){this.fixQuality=e,this.numberSatelliteUsed=t},fixQuality:t}},351:e=>{const t=Object.freeze({GPS:"GPS",BEIDOU:"BEIDOU"}),n=Object.freeze({0:">45dB",1:"[41..45]dB",2:"[37..41]dB",3:"<37dB"});e.exports={SatelliteInfo:function(e,t,n,r){this.constellation=e,this.id=t,this.cn=n,this.pseudoRangeValue=r},Constellation:t,CN:n}},457:(e,t,n)=>{let r=n(621),i=n(69),s=n(320),o=n(94),a=n(351),S=n(491);const R=Object.freeze({SUCCESS:"SUCCESS",TIMEOUT:"TIMEOUT",FAILURE:"FAILURE"}),c=Object.freeze({LR1110GNSS:"LR1110GNSS",LR1110SEMTECHNAV1:"LR1110SEMTECHNAV1",LR1110SEMTECHNAV2:"LR1110SEMTECHNAV2",WIFI:"WIFI",BLEMAC:"BLEMAC",BLESHORT:"BLESHORT",BLELONG:"BLELONG",MT3333GNSSFIX:"MT3333GNSSFIX",MT3333GNSSFAILURE:"MT3333GNSSFAILURE",MT3333LPGNSS:"MT3333LPGNSS"});function E(e,t,n,r,i,s,o,a,S,R,c,E,T){this.motion=e,this.status=t,this.positionType=n,this.triggers=r,this.lr1110Gnss=i,this.lr1110SemtechNav1=s,this.lr1110SemtechNav2=o,this.wifi=a,this.bleMacShort=S,this.bleShort=R,this.bleLong=c,this.mt3333GnssFix=E,this.mt3333LpGnss=T}e.exports={Position:E,determinePosition:function(e,t){const n=4;t&&(n=5);let T=function(e,t){let n=new E;switch(n.motion=e[t]>>7&1,e[t]>>5&3){case 0:n.status=R.SUCCESS;break;case 1:n.status=R.TIMEOUT;break;case 2:n.status=R.FAILURE}switch(15&e[t]){case 0:n.positionType=c.LR1110GNSS;break;case 1:n.positionType=c.LR1110SEMTECHNAV1;break;case 2:n.positionType=c.LR1110SEMTECHNAV2;break;case 3:n.positionType=c.WIFI;break;case 4:n.positionType=c.BLEMAC;break;case 5:case 6:n.positionType=c.BLESHORT;break;case 7:n.positionType=c.MT3333GNSSFIX;break;case 8:n.positionType=c.MT3333LPGNSS}return n.triggers=new r.TriggerBitMap(1&e[t+2],e[t+2]>>1&1,e[t+2]>>2&1,e[t+2]>>3&1,e[t+2]>>4&1,e[t+2]>>5&1,e[t+2]>>6&1,e[t+2]>>7&1,1&e[t+1],e[t+1]>>1&1),n}(e,n);if(T.status==R.SUCCESS)switch(T.positionType){case c.LR1110GNSS:T.lr1110Gnss=function(e){let t={};t.time=16*(e[0]<<8+e[1]);var n=0;let r=[];for(;e.length>=2+4*(n+1);){var i=new a.SatelliteInfo;switch(e[2+4*n]>>6&3){case 0:i.constellation=a.Constellation.GPS;break;case 1:i.constellation=a.Constellation.BEIDOU}switch(e[2+4*n],e[3+4*n]>>6&3){case 0:i.cn=a.CN[0];break;case 1:i.cn=a.CN[1];break;case 2:i.cn=a.CN[2];break;case 3:i.cn=a.CN[3]}i.pseudoRangeValue=(7&e[3+4*n])<<16+e[4+4*n]<<8+e[5+4*n],r.push(i),n++}return t.satelliteInfos=r,t}(e.slice(n+3));break;case c.LR1110SEMTECHNAV1:T.lr1110SemtechNav1=o.convertBytesToString(e.slice(n+3));break;case c.LR1110SEMTECHNAV2:T.lr1110SemtechNav2=o.convertBytesToString(e.slice(n+3));break;case c.WIFI:T.wifi=function(e){let t=[];for(var n=0;e.length>=7*(n+1);){let r=o.convertByteToString(e[7*n])+":"+o.convertByteToString(e[1+7*n])+":"+o.convertByteToString(e[2+7*n])+":"+o.convertByteToString(e[3+7*n])+":"+o.convertByteToString(e[4+7*n])+":"+o.convertByteToString(e[5+7*n]),s=o.convertNegativeInt(e[6+7*n],1);t.push(new i.BssidInfo(r,s)),n++}return t}(e.slice(n+3));break;case c.BLEMAC:T.bleMacShort=function(e){let t=[];for(var n=0;e.length>=7*(n+1);){let r=o.convertByteToString(e[7*n])+":"+o.convertByteToString(e[1+7*n])+":"+o.convertByteToString(e[2+7*n])+":"+o.convertByteToString(e[3+7*n])+":"+o.convertByteToString(e[4+7*n])+":"+o.convertByteToString(e[5+7*n]),i=o.convertNegativeInt(e[6+7*n],1);t.push(new s.BeaconInfo(r,i)),n++}return t}(e.slice(n+3));break;case c.BLESHORT:T.bleShort=determineBleShortPositionMessage(e.slice(n+3));break;case c.BLELONG:T.bleLong=determineBleLongPositionMessage(e.slice(n+3));break;case c.MT3333GNSSFIX:T.mt3333GnssFix=S.determineMT3333GnssFix(e.slice(n+3));break;case c.MT3333LPGNSS:T.mt3333LpGnss=determineMT3333LPGnssPositionMessage(e.slice(n+3))}return T}}},621:e=>{e.exports={TriggerBitMap:function(e,t,n,r,i,s,o,a,S,R){this.geoTriggerPod=e,this.geoTriggerSos=t,this.geoTriggerMotionStart=n,this.geoTriggerMotionStop=r,this.geoTriggerInMotion=i,this.geoTriggerInStatic=s,this.geoTriggerShock=o,this.geoTriggerTempHighThreshold=a,this.geoTriggerTempLowThreshold=S,this.geoTriggerGeoZoning=R}}},69:e=>{e.exports={BssidInfo:function(e,t){this.mac=e,this.rssi=t}}},94:e=>{function t(e){let t=e.toString(16);return t.length<2&&(t="0"+t),t}e.exports={convertToByteArray:function(e){for(var t=[],n=(e.length,0);n<e.length;n+=2)t[n/2]=255&parseInt(e.substring(n,n+2),16);return t},camelToSnake:function(e){return e.replace(/[\w]([A-Z1-9])/g,(function(e){return e[0]+"_"+e[1]})).toUpperCase()},convertBytesToString:function(e){for(var n="",r=0;r<e.length;r++)n+=t(e[r]);return n},convertByteToString:t,decodeCondensed:function(e,t,n,r,i){return(e-i/2)/(((1<<r)-1-i)/(n-t))+t},convertNegativeInt:function(e,t){return e>127<<8*(t-1)&&(e-=1<<8*t),e},twoComplement:function(e){return e>2147483647&&(e-=4294967296),e}}}},t={},n=function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(44);driver=n})();